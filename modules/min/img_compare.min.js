const _=(o,i)=>{const n=o.querySelectorAll(".mab_img_cmp__img");n&&n.forEach((e,t)=>{const c=e.getAttribute("data-src");t===0&&e.classList.add("mab_img_cmp__overlay"),c&&i&&e.setAttribute("style",`background: url("${c}") no-repeat left/${i.toString()}px;`)})},f=o=>{let i=!1;const n=o.offsetWidth;_(o,n);const e=o.querySelector(".mab_img_cmp__overlay"),t=document.createElement("div");if(!e||!e.parentElement)return;e.style.width=n/2+"px",t.setAttribute("class","mab_img_cmp__slider"),e.parentElement.insertBefore(t,e),t.style.left=n/2-t.offsetWidth/2+"px";const c=()=>{i=!0,window.addEventListener("mousemove",l),window.addEventListener("touchmove",l)},d=()=>{i=!1},m=s=>{const r=e.getBoundingClientRect();let a=0;return s=s.changedTouches?s.changedTouches[0]:s,a=s.pageX-r.left,a=a-window.pageXOffset,a},u=s=>{e.style.width=s+"px",t.style.left=e.offsetWidth-t.offsetWidth/2-1+"px"},l=s=>{if(i===!1)return;let r=m(s);r<1&&(r=0),r>n&&(r=n),u(r)};t.addEventListener("mousedown",c,{passive:!0}),window.addEventListener("mouseup",d,{passive:!0}),t.addEventListener("touchstart",c,{passive:!0}),window.addEventListener("touchend",d,{passive:!0})},p=()=>{const o=document.querySelectorAll(".mab_img_cmp");o&&o.forEach(i=>{f(i)})};export{p as default};
