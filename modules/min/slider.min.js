import{__is_mobile as l}from"../../mab.js";const r=t=>!t.classList.contains("mab_slider__next")&&!t.classList.contains("mab_slider__prev")&&!t.classList.contains("mab_slider__close")&&!t.classList.contains("mab_modal__close"),c=t=>{const e=t.querySelector(".active");if(e){const s=e.nextElementSibling;if(e.classList.remove("active"),s&&r(s))s.classList.add("active");else{const a=t.querySelector(".mab_slider__element");a&&a.classList.add("active")}}},n=t=>{const e=t.querySelector(".active");if(e){const s=e.previousElementSibling;if(e.classList.remove("active"),s&&r(s))s.classList.add("active");else{const a=t.querySelector(".mab_slider__element:last-child");a&&a.classList.add("active")}}},_=t=>{let e;e=t.querySelector(".mab_slider__next"),e||(e=document.createElement("span"),e.className="mab_slider__next",t.prepend(e)),e.addEventListener("click",s=>{s.preventDefault(),c(t)}),e=t.querySelector(".mab_slider__prev"),e||(e=document.createElement("span"),e.className="mab_slider__prev",t.prepend(e)),e.addEventListener("click",s=>{s.preventDefault(),n(t)})},d=t=>{let e=t.getAttribute("data-interval");e&&setInterval(()=>{c(t)},parseInt(e,10))},u=(t,e)=>{let s=0;l[1]?(e.addEventListener("touchstart",a=>{a=a.changedTouches?a.changedTouches[0]:a,s=a.clientX},{passive:!0}),e.addEventListener("touchend",a=>{a=a.changedTouches?a.changedTouches[0]:a;let i=a.clientX-s;i*i>101&&(i<0?c(t):n(t))},{passive:!0})):(e.addEventListener("mousedown",a=>{s=a.clientX},{passive:!0}),e.addEventListener("mouseup",a=>{let i=a.clientX-s;i*i>101&&(i<0?c(t):n(t))},{passive:!0}))},m=(t,e)=>{e&&e.forEach(s=>{let a=s.getAttribute("data-src"),i=s.getAttribute("data-size"),o=s.getAttribute("data-position");a&&s.setAttribute("style",`background : url(${a}) no-repeat ${o||"center"}/${i||"contain"};`),u(t,s)})},p=()=>{const t=document.querySelectorAll(".mab_slider");t&&t.forEach(e=>{m(e,e.querySelectorAll(".mab_slider__element"));const s=e.querySelector(".mab_slider__element");s&&s.classList.add("active"),d(e),_(e)})};export{p as default,c as move_next,n as move_previous,u as set_move_events,_ as set_navigation};