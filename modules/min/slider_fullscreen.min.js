import{create_modal as c,show_modal as o}from"./modal.min.js";import{set_navigation as a,set_move_events as i}from"./slider.min.js";import{Splide as d}from"./splide.min.js";const r=s=>{const t=document.createElement("ul"),e=s.querySelectorAll(".splide__slide");let l;return t.className="splide__list",e&&e.forEach(n=>{n.classList.contains("splide__slide--clone")||(l=document.createElement("li"),l.className="splide__slide",l.style.background=n.style.background,l.style.backgroundImage=n.style.backgroundImage,l.style.backgroundSize=n.style.backgroundSize,l.style.backgroundPosition=n.style.backgroundPosition,l.style.backgroundRepeat=n.style.backgroundRepeat,t.append(l))}),t},m=(s,t)=>{const e=document.createElement("div"),l=document.createElement("div");e.className="splide",e.id=`mab${Math.floor(Math.random()*42+101)}`,l.className="splide__track";const n=r(t);l.append(n),e.append(l),s.append(e),window.splide_tmp[`#${e.id}`]=new d(`#${e.id}`,{type:"loop"}),window.splide_tmp[`#${e.id}`].mount()},_=(s,t)=>{const e=t.querySelectorAll(".mab_slider__element");a(t),e&&e.forEach(l=>{i(t,l)}),s.append(t)},p=(s,t)=>{let e=t.cloneNode(!0);const l=e.querySelector(".mab_slider__open");l&&l.remove(),e.style.width="100vw",e.style.height="100vh",t.classList.contains("splide")?m(s,e):t.classList.contains("mab_slider")&&_(s,e),o(s)},u=s=>{const t=document.getElementById("mab_slider__fullscreen--modal"),e=document.createElement("span");e.className="mab_slider__open",e.addEventListener("click",l=>{l.preventDefault(),t&&p(t,s)}),s.prepend(e)},b=()=>{const s=document.querySelectorAll(".mab_slider--fullscreen");s.length>0&&(c("mab_slider__fullscreen--modal"),s.forEach(t=>{u(t)}))};export{b as default};